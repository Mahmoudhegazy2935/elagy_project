<app-navebar></app-navebar>
""<!-- prescription-page.component.html -->

<div class="container mt-5 mx-auto">
  <div class="instructions">
    <div class="step">
      <span class="step-number">1</span>
      <div class="step-content">
        <h3>ุงุฑูุน ุงูุฑูุดุชุฉ</h3>
        <p>ูู ุจุฑูุน ุตูุฑุฉ ูู ุงูุฑูุดุชุฉ ุฃู ูู ุจูุชุงุจุฉ ุทูุจู ุฃู ุงุณู ุงูููุชุฌ ุงูุฐู ุชุญุชุงุฌู ูู ุงูุตูุฏููุฉ</p>
      </div>
    </div>
    <div class="step">
      <span class="step-number">2</span>
      <div class="step-content">
        <h3>ุงุฏุฎู ุงูุจูุงูุงุช</h3>
        <p>ูู ุจุฃุฏุฎุงู ุงูุจูุงูุงุช ุงููุทููุจู ูุซู ุงูุงุณู ู ุงูุนููุงู , ุงูุนููุงู ุงูุนุงู , ูุฑูู ุงููุงุชู , ุซู ูู ุจุฃุฑุณุงู ุงูุทูุจ</p>
      </div>
    </div>
    <div class="step">
      <span class="step-number">3</span>
      <div class="step-content">
        <h3>ุงูุจุญุซ</h3>
        <p>ูููู ูููุน ุนูุงุฌู ุจุงูุจุญุซ ูู ุงูุตูุฏููุงุช ุงููุฑูุจุฉ ูู ุนููุงูู ููุชู ุชูุตูู ุงูุฏูุงุก ุญุชู ุจุงุจ ุงูุจูุช (ุญุงู ุชููุฑ ุฎุฏูุฉ ุชูุตูู ูุฏู ุงูุตูุฏููุฉ)</p>
      </div>
    </div>
  </div>

  <div class="upload-section">
    <h2>ุงูุฑูุดุชุฉ</h2>
    <div class="upload-input flex-column">


      <input hidden type="file" id="file-upload" (change)="onFileSelected($event)"/>
      <label  for="file-upload" class="p-5">ุฃุถู ุตูุฑุฉ ูุงุถุญุฉ ููููุชุฌ ุงู ุงูุฑูุดุชุฉ <img src="assets/๐ฆ icon _image_.png" alt="upload icon"></label>

      @if (roshtaFileName) {
        <div class="mt-2 d-flex justify-content-between  flex-wrap bg-light p-2 rounded shadow-sm w-100">

          <!-- Delete icon -->
          <img
            src="assets/delete.png"
            alt="ุญุฐู"
            (click)="deleteRoshta()"
            title="ุญุฐู ุงูุฑูุดุชุฉ"
            style="width: 32px; height: 32px; cursor: pointer;"
          />

          <!-- File name and image preview -->
          <div>
            <p class="mb-2 text-dark fw-bold">

               {{ roshtaFileName }}:
              <!-- @if (roshtaFileBase64) {
                <img
                  [src]="roshtaFileBase64"
                  alt="ุฑูุดุชุฉ"
                  class="img-thumbnail shadow-sm"
                  style="max-height: 200px;"
                />
              } -->
            </p>

          </div>

        </div>
      }

      </div>
    <!-- <button>ุฅุชูุงู ุงูุทูุจ</button> -->
  </div>
</div>

<div class="mt-4 px-4 w-100" dir="rtl">
  <h1 class="text-success mb-4">ุฅุชูุงู ุงูุทูุจ</h1>

  <!-- โ User Info Form -->
  <div class="card p-4 shadow-sm mb-4">
    <h4 class="text-primary mb-3">ูุนูููุงุช ุงูุนููู</h4>

    <div class="mb-3">
      <label for="name" class="form-label">ุงูุงุณู ุงููุงูู:</label>
      <input type="text" id="name" class="form-control" [(ngModel)]="userName" placeholder="ุงุฏุฎู ุงุณูู">
    </div>

    <div class="mb-3">
      <label for="speicalLocation" class="form-label">ุงูุนููุงู ุงูุนุงู:</label>
      <select id="speicalLocation" class="form-select" [(ngModel)]="speicalLocation" (change)="loadNearbyPharmacies()">
        <option disabled selected value="">ุงุฎุชุฑ ุงูุนููุงู</option>
        @for (location of locations; track $index) {
          <option [value]="location">{{ location }}</option>
        }
      </select>
    </div>

    <div class="mb-3">
      <label for="address" class="form-label">ุงูุนููุงู ุจุงูุชูุตูู:</label>
      <input type="text" id="address" class="form-control" [(ngModel)]="userAddress" placeholder="ูุซุงู : ุงููุณุงูู/ุดุงุฑุน ุงูุชุฃููู /ุจุฌูุงุฑ ูููุฉ ุงููููุฏูุงู">
    </div>

    <div class="mb-3">
      <label for="phone" class="form-label">ุฑูู ุงููุงุชู:</label>
      <input type="text" id="phone" class="form-control" [(ngModel)]="phoneNumber" placeholder="ุงุฏุฎู ุฑูู ุงููุงุชู">
    </div>
  </div>

  <!-- โ Submit Button -->
  <div class="text-end mt-3">
    <button class="btn btn-success mb-5" (click)="submitOrder()">ุชุฃููุฏ ุงูุทูุจ</button>
  </div>

  <!-- โ Success Message -->
  @if (success) {
    <div class="alert alert-success mt-3" role="alert">
      <strong>ุชู ุจูุฌุงุญ!</strong> ุชู ุฅุฑุณุงู ุทูุจู ุฅูู ุงูุฎุงุฏู.
    </div>
  }
</div>

